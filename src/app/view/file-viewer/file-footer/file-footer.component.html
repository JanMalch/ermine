<div>{{ file.name }}</div>
<code>{{ file.byteSize / 1024 | number: '1.1-1' }} KB</code>

<ng-container *ngIf="!(isHandset$ | async); else mobileMenuTmpl">
  <button mat-button (click)="openDialog()">
    <mat-icon svgIcon="code-tags-check"></mat-icon>
    <code>{{ file.language.name }}</code>
  </button>

  <div id="spacer"></div>

  <button
    mat-button
    ngxClipboard
    [cbContent]="copyContent"
    (cbOnSuccess)="copySnack($event)"
    (cbOnError)="copySnack($event)"
  >
    <mat-icon svgIcon="content-copy"></mat-icon>
    Copy Link
  </button>

  <a mat-button [href]="githubLink" rel="noopener" target="_blank">
    <mat-icon svgIcon="github-circle"></mat-icon>
    Open on GitHub
  </a>

  <a mat-button [href]="rawContentLink" rel="noopener" target="_blank">
    <mat-icon svgIcon="code-braces"></mat-icon>
    View raw content
  </a>
</ng-container>

<ng-template #mobileMenuTmpl>
  <button mat-icon-button [matMenuTriggerFor]="mobileMenu">
    <mat-icon svgIcon="dots-vertical"></mat-icon>
  </button>
  <mat-menu #mobileMenu="matMenu">
    <button mat-menu-item disabled>Language</button>
    <button mat-menu-item (click)="openDialog()">
      <mat-icon svgIcon="code-tags-check"></mat-icon>
      <span>{{ file.language.name }}</span>
    </button>
    <mat-divider></mat-divider>
    <button mat-menu-item disabled>File actions</button>
    <button
      mat-menu-item
      ngxClipboard
      [cbContent]="copyContent"
      (cbOnSuccess)="copySnack($event)"
      (cbOnError)="copySnack($event)"
    >
      <mat-icon svgIcon="content-copy"></mat-icon>
      Copy Link
    </button>

    <a mat-menu-item [href]="githubLink" rel="noopener" target="_blank">
      <mat-icon svgIcon="github-circle"></mat-icon>
      Open on GitHub
    </a>

    <a mat-menu-item [href]="rawContentLink" rel="noopener" target="_blank">
      <mat-icon svgIcon="code-braces"></mat-icon>
      View raw content
    </a>
  </mat-menu>
</ng-template>
